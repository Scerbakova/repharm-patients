{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { Validators } from '@angular/forms';\nlet RegistrationFormComponent = class RegistrationFormComponent {\n  buidForm() {\n    console.log('build form');\n    this.registerPatientForm = this.fb.group({\n      'first name': ['', Validators.required],\n      'last name': ['', Validators.required],\n      'personal id': ['', Validators.required],\n      'date of birth': ['', Validators.required],\n      'phone number': ['', Validators.required],\n      email: ['', Validators.required],\n      'medical conditions': [''],\n      'surgical history': [''],\n      medications: [''],\n      allergies: [''],\n      immunizations: [''],\n      \"doctor's name\": ['', Validators.required],\n      \"doctor's surname\": ['', Validators.required],\n      insurance: [false]\n    });\n  }\n  populateForm() {\n    if (this.patient) {\n      this.registerPatientForm.patchValue({\n        // Populate form fields with patient data\n        'first name': this.patient.firstName,\n        'last name': this.patient.lastName,\n        'personal id': this.patient.personalId,\n        'date of birth': this.patient.dateOfBirth,\n        'phone number': this.patient.phoneNumber,\n        email: this.patient.email,\n        'medical conditions': this.patient.medicalConditions,\n        'surgical history': this.patient.surgicalHistory,\n        medications: this.patient.medications,\n        allergies: this.patient.allergies,\n        immunizations: this.patient.immunizations,\n        \"doctor's name\": this.patient.doctorsName,\n        \"doctor's surname\": this.patient.doctorsSurname,\n        insurance: this.patient.insurance\n      });\n    }\n  }\n  ngOnChanges(changes) {\n    if (changes.isModalOpen && this.isModalOpen) {\n      this.buidForm();\n      this.populateForm();\n    }\n  }\n  ngOnInit() {\n    this.buidForm();\n  }\n  close() {\n    this.resetForm();\n    this.isModalOpenChange.emit(false);\n  }\n  preventClose(event) {\n    event.stopPropagation();\n  }\n  resetForm() {\n    this.registerPatientForm.reset();\n  }\n  constructor(patientsService, fb) {\n    this.patientsService = patientsService;\n    this.fb = fb;\n    this.isModalOpen = false;\n    this.isModalOpenChange = new EventEmitter();\n    this.registerPatientForm = this.fb.group({});\n    this.patientFields = ['first name', 'last name', 'personal id', 'phone number', 'email', 'medical conditions', 'surgical history', 'medications', 'allergies', 'immunizations', `doctor's name`, `doctor's surname`];\n  }\n  registerPatient() {\n    const patient = {\n      firstName: this.registerPatientForm.get('first name')?.value,\n      lastName: this.registerPatientForm.get('last name')?.value,\n      personalId: this.registerPatientForm.get('personal id')?.value,\n      dateOfBirth: this.registerPatientForm.get('date of birth')?.value,\n      phoneNumber: this.registerPatientForm.get('phone number')?.value,\n      email: this.registerPatientForm.get('email')?.value,\n      medicalConditions: this.registerPatientForm.get('medical conditions')?.value,\n      surgicalHistory: this.registerPatientForm.get('surgical history')?.value,\n      medications: this.registerPatientForm.get('medications')?.value,\n      allergies: this.registerPatientForm.get('allergies')?.value,\n      immunizations: this.registerPatientForm.get('immunizations')?.value,\n      doctorsName: this.registerPatientForm.get(`doctor's name`)?.value,\n      doctorsSurname: this.registerPatientForm.get(`doctor's surname`)?.value,\n      insurance: this.registerPatientForm.get('insurance')?.value\n    };\n    if (this.registerPatientForm.valid) {\n      this.patientsService.addNewPatient(patient).subscribe({\n        next: () => {\n          this.close();\n          this.resetForm();\n        },\n        error: error => {\n          console.error('Error registering patient:', error);\n        }\n      });\n    } else {\n      alert('Please fill in all the required fields.');\n    }\n  }\n};\n__decorate([Input()], RegistrationFormComponent.prototype, \"isModalOpen\", void 0);\n__decorate([Input()], RegistrationFormComponent.prototype, \"patient\", void 0);\n__decorate([Output()], RegistrationFormComponent.prototype, \"isModalOpenChange\", void 0);\nRegistrationFormComponent = __decorate([Component({\n  selector: 'app-registration-form',\n  templateUrl: './registration-form.component.html',\n  styleUrls: ['./registration-form.component.scss']\n})], RegistrationFormComponent);\nexport { RegistrationFormComponent };","map":{"version":3,"mappings":";AAAA,SACEA,SAAS,EACTC,YAAY,EACZC,KAAK,EAELC,MAAM,QAED,eAAe;AACtB,SAAiCC,UAAU,QAAQ,gBAAgB;AAS5D,IAAMC,yBAAyB,GAA/B,MAAMA,yBAAyB;EAOpCC,QAAQ;IACNC,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;IACzB,IAAI,CAACC,mBAAmB,GAAG,IAAI,CAACC,EAAE,CAACC,KAAK,CAAC;MACvC,YAAY,EAAE,CAAC,EAAE,EAAEP,UAAU,CAACQ,QAAQ,CAAC;MACvC,WAAW,EAAE,CAAC,EAAE,EAAER,UAAU,CAACQ,QAAQ,CAAC;MACtC,aAAa,EAAE,CAAC,EAAE,EAAER,UAAU,CAACQ,QAAQ,CAAC;MACxC,eAAe,EAAE,CAAC,EAAE,EAAER,UAAU,CAACQ,QAAQ,CAAC;MAC1C,cAAc,EAAE,CAAC,EAAE,EAAER,UAAU,CAACQ,QAAQ,CAAC;MACzCC,KAAK,EAAE,CAAC,EAAE,EAAET,UAAU,CAACQ,QAAQ,CAAC;MAChC,oBAAoB,EAAE,CAAC,EAAE,CAAC;MAC1B,kBAAkB,EAAE,CAAC,EAAE,CAAC;MACxBE,WAAW,EAAE,CAAC,EAAE,CAAC;MACjBC,SAAS,EAAE,CAAC,EAAE,CAAC;MACfC,aAAa,EAAE,CAAC,EAAE,CAAC;MACnB,eAAe,EAAE,CAAC,EAAE,EAAEZ,UAAU,CAACQ,QAAQ,CAAC;MAC1C,kBAAkB,EAAE,CAAC,EAAE,EAAER,UAAU,CAACQ,QAAQ,CAAC;MAC7CK,SAAS,EAAE,CAAC,KAAK;KAClB,CAAC;EACJ;EACAC,YAAY;IACV,IAAI,IAAI,CAACC,OAAO,EAAE;MAChB,IAAI,CAACV,mBAAmB,CAACW,UAAU,CAAC;QAClC;QACA,YAAY,EAAE,IAAI,CAACD,OAAO,CAACE,SAAS;QACpC,WAAW,EAAE,IAAI,CAACF,OAAO,CAACG,QAAQ;QAClC,aAAa,EAAE,IAAI,CAACH,OAAO,CAACI,UAAU;QACtC,eAAe,EAAE,IAAI,CAACJ,OAAO,CAACK,WAAW;QACzC,cAAc,EAAE,IAAI,CAACL,OAAO,CAACM,WAAW;QACxCZ,KAAK,EAAE,IAAI,CAACM,OAAO,CAACN,KAAK;QACzB,oBAAoB,EAAE,IAAI,CAACM,OAAO,CAACO,iBAAiB;QACpD,kBAAkB,EAAE,IAAI,CAACP,OAAO,CAACQ,eAAe;QAChDb,WAAW,EAAE,IAAI,CAACK,OAAO,CAACL,WAAW;QACrCC,SAAS,EAAE,IAAI,CAACI,OAAO,CAACJ,SAAS;QACjCC,aAAa,EAAE,IAAI,CAACG,OAAO,CAACH,aAAa;QACzC,eAAe,EAAE,IAAI,CAACG,OAAO,CAACS,WAAW;QACzC,kBAAkB,EAAE,IAAI,CAACT,OAAO,CAACU,cAAc;QAC/CZ,SAAS,EAAE,IAAI,CAACE,OAAO,CAACF;OACzB,CAAC;;EAEN;EAEAa,WAAW,CAACC,OAAsB;IAChC,IAAIA,OAAO,CAACC,WAAW,IAAI,IAAI,CAACA,WAAW,EAAE;MAC3C,IAAI,CAAC1B,QAAQ,EAAE;MACf,IAAI,CAACY,YAAY,EAAE;;EAEvB;EAEAe,QAAQ;IACN,IAAI,CAAC3B,QAAQ,EAAE;EACjB;EAiBA4B,KAAK;IACH,IAAI,CAACC,SAAS,EAAE;IAChB,IAAI,CAACC,iBAAiB,CAACC,IAAI,CAAC,KAAK,CAAC;EACpC;EAEAC,YAAY,CAACC,KAAY;IACvBA,KAAK,CAACC,eAAe,EAAE;EACzB;EAEQL,SAAS;IACf,IAAI,CAAC1B,mBAAmB,CAACgC,KAAK,EAAE;EAClC;EAEAC,YACUC,eAAgC,EAChCjC,EAAe;IADf,oBAAe,GAAfiC,eAAe;IACf,OAAE,GAAFjC,EAAE;IAxFH,gBAAW,GAAY,KAAK;IAE3B,sBAAiB,GAAG,IAAIT,YAAY,EAAW;IAEzD,wBAAmB,GAAc,IAAI,CAACS,EAAE,CAACC,KAAK,CAAC,EAAE,CAAC;IAsDlD,kBAAa,GAAa,CACxB,YAAY,EACZ,WAAW,EACX,aAAa,EACb,cAAc,EACd,OAAO,EACP,oBAAoB,EACpB,kBAAkB,EAClB,aAAa,EACb,WAAW,EACX,eAAe,EACf,eAAe,EACf,kBAAkB,CACnB;EAkBE;EAEHiC,eAAe;IACb,MAAMzB,OAAO,GAAqB;MAChCE,SAAS,EAAE,IAAI,CAACZ,mBAAmB,CAACoC,GAAG,CAAC,YAAY,CAAC,EAAEC,KAAK;MAC5DxB,QAAQ,EAAE,IAAI,CAACb,mBAAmB,CAACoC,GAAG,CAAC,WAAW,CAAC,EAAEC,KAAK;MAC1DvB,UAAU,EAAE,IAAI,CAACd,mBAAmB,CAACoC,GAAG,CAAC,aAAa,CAAC,EAAEC,KAAK;MAC9DtB,WAAW,EAAE,IAAI,CAACf,mBAAmB,CAACoC,GAAG,CAAC,eAAe,CAAC,EAAEC,KAAK;MACjErB,WAAW,EAAE,IAAI,CAAChB,mBAAmB,CAACoC,GAAG,CAAC,cAAc,CAAC,EAAEC,KAAK;MAChEjC,KAAK,EAAE,IAAI,CAACJ,mBAAmB,CAACoC,GAAG,CAAC,OAAO,CAAC,EAAEC,KAAK;MACnDpB,iBAAiB,EACf,IAAI,CAACjB,mBAAmB,CAACoC,GAAG,CAAC,oBAAoB,CAAC,EAAEC,KAAK;MAC3DnB,eAAe,EAAE,IAAI,CAAClB,mBAAmB,CAACoC,GAAG,CAAC,kBAAkB,CAAC,EAAEC,KAAK;MACxEhC,WAAW,EAAE,IAAI,CAACL,mBAAmB,CAACoC,GAAG,CAAC,aAAa,CAAC,EAAEC,KAAK;MAC/D/B,SAAS,EAAE,IAAI,CAACN,mBAAmB,CAACoC,GAAG,CAAC,WAAW,CAAC,EAAEC,KAAK;MAC3D9B,aAAa,EAAE,IAAI,CAACP,mBAAmB,CAACoC,GAAG,CAAC,eAAe,CAAC,EAAEC,KAAK;MACnElB,WAAW,EAAE,IAAI,CAACnB,mBAAmB,CAACoC,GAAG,CAAC,eAAe,CAAC,EAAEC,KAAK;MACjEjB,cAAc,EAAE,IAAI,CAACpB,mBAAmB,CAACoC,GAAG,CAAC,kBAAkB,CAAC,EAAEC,KAAK;MACvE7B,SAAS,EAAE,IAAI,CAACR,mBAAmB,CAACoC,GAAG,CAAC,WAAW,CAAC,EAAEC;KACvD;IACD,IAAI,IAAI,CAACrC,mBAAmB,CAACsC,KAAK,EAAE;MAClC,IAAI,CAACJ,eAAe,CAACK,aAAa,CAAC7B,OAAO,CAAC,CAAC8B,SAAS,CAAC;QACpDC,IAAI,EAAE,MAAK;UACT,IAAI,CAAChB,KAAK,EAAE;UACZ,IAAI,CAACC,SAAS,EAAE;QAClB,CAAC;QACDgB,KAAK,EAAGA,KAAK,IAAI;UACf5C,OAAO,CAAC4C,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;QACpD;OACD,CAAC;KACH,MAAM;MACLC,KAAK,CAAC,yCAAyC,CAAC;;EAEpD;CACD;AA3HUC,YAARnD,KAAK,EAAE,8DAA8B;AAC7BmD,YAARnD,KAAK,EAAE,0DAA4B;AAC1BmD,YAATlD,MAAM,EAAE,oEAAiD;AAH/CE,yBAAyB,eALrCL,SAAS,CAAC;EACTsD,QAAQ,EAAE,uBAAuB;EACjCC,WAAW,EAAE,oCAAoC;EACjDC,SAAS,EAAE,CAAC,oCAAoC;CACjD,CAAC,GACWnD,yBAAyB,CA4HrC;SA5HYA,yBAAyB","names":["Component","EventEmitter","Input","Output","Validators","RegistrationFormComponent","buidForm","console","log","registerPatientForm","fb","group","required","email","medications","allergies","immunizations","insurance","populateForm","patient","patchValue","firstName","lastName","personalId","dateOfBirth","phoneNumber","medicalConditions","surgicalHistory","doctorsName","doctorsSurname","ngOnChanges","changes","isModalOpen","ngOnInit","close","resetForm","isModalOpenChange","emit","preventClose","event","stopPropagation","reset","constructor","patientsService","registerPatient","get","value","valid","addNewPatient","subscribe","next","error","alert","__decorate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\User\\Desktop\\repharm-patients\\ClientApp\\src\\app\\components\\registration-form\\registration-form.component.ts"],"sourcesContent":["import {\n  Component,\n  EventEmitter,\n  Input,\n  OnInit,\n  Output,\n  SimpleChanges,\n} from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Patient } from 'src/app/models/patient.model';\nimport { PatientsService } from 'src/app/services/patients.service';\n\n@Component({\n  selector: 'app-registration-form',\n  templateUrl: './registration-form.component.html',\n  styleUrls: ['./registration-form.component.scss'],\n})\nexport class RegistrationFormComponent implements OnInit {\n  @Input() isModalOpen: boolean = false;\n  @Input() patient?: Partial<Patient>;\n  @Output() isModalOpenChange = new EventEmitter<boolean>();\n\n  registerPatientForm: FormGroup = this.fb.group({});\n\n  buidForm(): void {\n    console.log('build form');\n    this.registerPatientForm = this.fb.group({\n      'first name': ['', Validators.required],\n      'last name': ['', Validators.required],\n      'personal id': ['', Validators.required],\n      'date of birth': ['', Validators.required],\n      'phone number': ['', Validators.required],\n      email: ['', Validators.required],\n      'medical conditions': [''],\n      'surgical history': [''],\n      medications: [''],\n      allergies: [''],\n      immunizations: [''],\n      \"doctor's name\": ['', Validators.required],\n      \"doctor's surname\": ['', Validators.required],\n      insurance: [false],\n    });\n  }\n  populateForm(): void {\n    if (this.patient) {\n      this.registerPatientForm.patchValue({\n        // Populate form fields with patient data\n        'first name': this.patient.firstName,\n        'last name': this.patient.lastName,\n        'personal id': this.patient.personalId,\n        'date of birth': this.patient.dateOfBirth,\n        'phone number': this.patient.phoneNumber,\n        email: this.patient.email,\n        'medical conditions': this.patient.medicalConditions,\n        'surgical history': this.patient.surgicalHistory,\n        medications: this.patient.medications,\n        allergies: this.patient.allergies,\n        immunizations: this.patient.immunizations,\n        \"doctor's name\": this.patient.doctorsName,\n        \"doctor's surname\": this.patient.doctorsSurname,\n        insurance: this.patient.insurance,\n      });\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.isModalOpen && this.isModalOpen) {\n      this.buidForm();\n      this.populateForm();\n    }\n  }\n\n  ngOnInit(): void {\n    this.buidForm();\n  }\n\n  patientFields: string[] = [\n    'first name',\n    'last name',\n    'personal id',\n    'phone number',\n    'email',\n    'medical conditions',\n    'surgical history',\n    'medications',\n    'allergies',\n    'immunizations',\n    `doctor's name`,\n    `doctor's surname`,\n  ];\n\n  close() {\n    this.resetForm();\n    this.isModalOpenChange.emit(false);\n  }\n\n  preventClose(event: Event) {\n    event.stopPropagation();\n  }\n\n  private resetForm() {\n    this.registerPatientForm.reset();\n  }\n\n  constructor(\n    private patientsService: PatientsService,\n    private fb: FormBuilder\n  ) {}\n\n  registerPatient() {\n    const patient: Partial<Patient> = {\n      firstName: this.registerPatientForm.get('first name')?.value,\n      lastName: this.registerPatientForm.get('last name')?.value,\n      personalId: this.registerPatientForm.get('personal id')?.value,\n      dateOfBirth: this.registerPatientForm.get('date of birth')?.value,\n      phoneNumber: this.registerPatientForm.get('phone number')?.value,\n      email: this.registerPatientForm.get('email')?.value,\n      medicalConditions:\n        this.registerPatientForm.get('medical conditions')?.value,\n      surgicalHistory: this.registerPatientForm.get('surgical history')?.value,\n      medications: this.registerPatientForm.get('medications')?.value,\n      allergies: this.registerPatientForm.get('allergies')?.value,\n      immunizations: this.registerPatientForm.get('immunizations')?.value,\n      doctorsName: this.registerPatientForm.get(`doctor's name`)?.value,\n      doctorsSurname: this.registerPatientForm.get(`doctor's surname`)?.value,\n      insurance: this.registerPatientForm.get('insurance')?.value,\n    };\n    if (this.registerPatientForm.valid) {\n      this.patientsService.addNewPatient(patient).subscribe({\n        next: () => {\n          this.close();\n          this.resetForm();\n        },\n        error: (error) => {\n          console.error('Error registering patient:', error);\n        },\n      });\n    } else {\n      alert('Please fill in all the required fields.');\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}